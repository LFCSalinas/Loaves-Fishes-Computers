<%- include("partials/header.ejs") %>

<section id="register">
  <div class="container" style="padding: 20px 0;">
    <div class="subcontainer">
      <form action="/auth/register" method="POST" id="register-form">
        <div class="title-container">
          <h1>Register</h1>
        </div>
        <div class="first-name-container">
          <input type="text" id="first-name" name="first_name" maxlength="25" placeholder="First name"
            value="<%= typeof first_name != 'undefined' ? first_name : '' %>" required>
        </div>
        <div class="last-name-container">
          <input type="text" id="last-name" name="last_name" maxlength="25" placeholder="Last name"
            value="<%= typeof last_name != 'undefined' ? last_name : '' %>" required>
        </div>
        <div class="email-container">
          <input type="email" id="email" name="email" placeholder="Email" value="<%= typeof email != 'undefined' ? email : '' %>" maxlength="50" required>
        </div>
        <div class="password-container">
          <input type="password" id="password" name="password" placeholder="Password" value="<%= typeof password != 'undefined' ? password : '' %>" maxlength="60" required>
          <p id="password-strength-text"></p>
        </div>
        <div class="password-container">
          <input type="password" id="password-confirm" name="password_confirm" maxlength="60" placeholder="Confirm password" required>
        </div>
        <div class="show-password-container">
          <input type="checkbox" id="show-password">
          <label for="show-password">Show password</label>
        </div>
        <div class="register-btn-container">
          <button type="submit">CREATE ACCOUNT</button>
        </div>
        <div>
          <p style="color: gray;">Already a member? <a href="/login">Login</a></p>
        </div>
        <% if (typeof allParsedErrors != "undefined" && allParsedErrors) { %>
          <% for(let i=0; i < allParsedErrors.errors.length; i++ ) { %>
            <div class="alert-message-error">
              <%= (allParsedErrors.errors[i].msg) %>
            </div>
            <% } %>
        <% } %>
        <% if(typeof success != "undefined" && success) { %>
          <div class="alert-message-success">
            <%= message %>
          </div>
        <% } %>
        <% if(typeof success != "undefined" && !success) { %>
          <div class="alert-message-error">
            <%= message %>
          </div>
        <% } %>
      </form>
    </div>
  </div>
</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/zxcvbn/4.2.0/zxcvbn.js"></script>
<script src="/js/script.js"></script>

<%- include("partials/footer.ejs") %>